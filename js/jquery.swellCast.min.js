// swellCast v1.0 by Swellcast Australia - http://swellcast.com.au

(function(e){e.fn.swellCast=function(){return this.each(function(){var t=e(this).attr("id"),n=e("#"+t),r=n.data("swellcast-location"),i=r.replace(/-/g," "),s=r.replace(/-/g,""),o=n.data("swellcast-headerbg"),u=n.data("swellcast-headertext"),a='<div class="swellcast_forecast_header" style="background-color:'+o+";color:"+u+'"><h5>'+i+' Surf Forecast</h5><p>powered by <a style="color:'+u+'" href="http://swellcast.com.au" title="Visit swellcast.com.au">Swellcast</a></p></div><div class="swellcast_loading"><p class="blink_text">fetching dataâ€¦</p></div><div class="swellcast_forecast_footer"><p>Primary Swell Height (m) / Wind Speed (kt)</p><a class="swellcast_visit" href="http://swellcast.com.au/locations/'+r+'-surf-report" title="View full 7 day forecast"></a></div>';n.append(a);e.ajax({url:"http://swellcast.com.au/api/v1/locations/"+r+"-surf-report/web_embed.json",timeout:1e4,type:"GET",dataType:"jsonp",jsonpCallback:s,success:function(t){forecast_body='<div class="swellcast_forecast"><div class="swellcast_forecast_header" style="background-color:'+o+";color:"+u+'"><h5>'+i+' Surf Forecast</h5><p>powered by <a style="color:'+u+'" href="http://swellcast.com.au" title="Visit swellcast.com.au">Swellcast</a></p></div><div class="swellcast_forecast_chart"><div class="vert_1"></div><div class="swell_label swell_label_1">1</div><div class="wind_label wind_label_5">5</div><div class="swell_scale swell_scale_1"></div><div class="swell_label swell_label_2">2</div><div class="wind_label wind_label_10">10</div><div class="swell_scale swell_scale_2"></div><div class="swell_label swell_label_3">3</div><div class="wind_label wind_label_15">15</div><div class="swell_scale swell_scale_3"></div><div class="swell_label swell_label_4">4</div><div class="wind_label wind_label_20">20</div><div class="swell_scale swell_scale_4"></div><div class="swell_label swell_label_5">5</div><div class="wind_label wind_label_25">25</div><div class="swell_scale swell_scale_5"></div><div class="swell_label swell_label_6">6</div><div class="wind_label wind_label_30">30</div><div class="swell_scale swell_scale_6"></div><div class="swell_label swell_label_7">7</div><div class="wind_label wind_label_35">35</div><div class="swell_scale swell_scale_7"></div><div class="swell_label swell_label_8">8</div><div class="wind_label wind_label_40">40</div><div class="swell_scale swell_scale_8"></div><div class="full_outlook_inner"><ol class="full_outlook">';e.each(t.forecasts,function(t,n){forecast_body+="<li><h6>"+this.short_day+"<span>"+this.month+" "+this.day_of_month+"</span></h6><ol>";e.each(n.steps,function(e,t){var n=t.s_height*25,r=t.w_spe*5-8,i=t.w_dir;forecast_body+='<li><div class="swellcast_h_bar" style="height:'+n+'px;"></div><div class="swellcast_w_arrow dir_'+i+'" style="bottom:'+r+'px;"></div></li>'});forecast_body+='</ol><div class="vert"></div></li>'});forecast_body+='</ol></div></div><div class="swellcast_forecast_footer"><p>Primary Swell Height (m) / Wind Speed (kt)</p><a class="swellcast_visit" href="http://swellcast.com.au/locations/'+r+'-surf-report" title="View full 7 day forecast"></a></div></div>';e(n).empty().append(e.trim(forecast_body));e(".swell_scale").each(function(t){e(this).delay(200*t).fadeIn(800)});e(".full_outlook ol").each(function(t){e(this).delay(200*t).fadeIn(800)})},error:function(){e(".swellcast_loading").html("<p>error loading data</p>")}})})}})(jQuery)